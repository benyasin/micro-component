(function(i,s){typeof exports=="object"&&typeof module<"u"?s(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],s):s((i=typeof globalThis<"u"?globalThis:i||self).MicroComponentsVue={},i.Vue)})(this,function(i,s){"use strict";const u=!!(localStorage!=null&&localStorage.getItem("MICRO_COMPONENT:DEBUG")),r="Footer";let m="";const $=s.defineComponent({inheritAttrs:!1,data(){return{component:null,microId:this.$attrs.microId||`${r}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,instanceId:this.$attrs.instanceId||`instance_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}},methods:{log(e,...t){(this.$attrs.logger||u)&&console.log(`[MicroComponent] ${r}: ${e}`,t.map(n=>typeof n=="object"?JSON.stringify(n,null,2):n))},async createComponent(){var n,c;this.log("create component");const e=await async function(){return window.MicroRuntime?window.MicroRuntime:new Promise(o=>{window.addEventListener("MicroRuntime:ready",()=>{o(window.MicroRuntime)})})}(),t=await e.createComponent({microId:this.microId,instanceId:this.instanceId,type:r,props:this.$attrs,el:this.$el});t&&((n=t.event)==null||n.clearEvents(),(c=t.event)==null||c.on("event",(o,...h)=>{this.log("event emit",o,...h);const d="on"+o.replace(/^([a-zA-Z]{1})/,l=>l.toUpperCase());this.$attrs[d]&&this.$attrs[d](...h)}),t==null||t.updateProps(this.$attrs)),this.component=t,this.log("create component complete")}},created(){var e;this.serverHTML="",this.$attrs.serverLocale?this.serverHTML=m=this.$attrs.serverLocale:this.serverHTML=m||(m=(e=document.querySelector(`[data-micro-type="${r}"]`))==null?void 0:e.innerHTML),this.serverHTML||(this.serverHTML="<div></div>")},mounted(){this.$nextTick(()=>{this.createComponent()})},beforeDestroy(){var e,t;this.log("beforeDestroy"),(t=(e=this.component)==null?void 0:e.event)==null||t.clearEvents(),this.component=null},render(){this.log("render"),this.component&&(this.log("update props",this.$attrs),this.component.updateProps(this.$attrs));const e=this.$attrs.theme?`micro-${this.$attrs.theme}`:"";return s.h("div",{innerHTML:m,key:`${this.microId}_${this.instanceId}`,class:{micro:!0,[e]:!0},"data-micro-type":r,"data-micro-instance-id":this.instanceId})}}),v=!!(localStorage!=null&&localStorage.getItem("MICRO_COMPONENT:DEBUG")),a="Button";let p="";const g=s.defineComponent({inheritAttrs:!1,data(){return{component:null,microId:this.$attrs.microId||`${a}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,instanceId:this.$attrs.instanceId||`instance_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}},methods:{log(e,...t){(this.$attrs.logger||v)&&console.log(`[MicroComponent] ${a}: ${e}`,t.map(n=>typeof n=="object"?JSON.stringify(n,null,2):n))},async createComponent(){var n,c;this.log("create component");const e=await async function(){return window.MicroRuntime?window.MicroRuntime:new Promise(o=>{window.addEventListener("MicroRuntime:ready",()=>{o(window.MicroRuntime)})})}(),t=await e.createComponent({microId:this.microId,instanceId:this.instanceId,type:a,props:this.$attrs,el:this.$el});t&&((n=t.event)==null||n.clearEvents(),(c=t.event)==null||c.on("event",(o,...h)=>{this.log("event emit",o,...h);const d="on"+o.replace(/^([a-zA-Z]{1})/,l=>l.toUpperCase());this.$attrs[d]&&this.$attrs[d](...h)}),t==null||t.updateProps(this.$attrs)),this.component=t,this.log("create component complete")}},created(){var e;this.serverHTML="",this.$attrs.serverLocale?this.serverHTML=p=this.$attrs.serverLocale:this.serverHTML=p||(p=(e=document.querySelector(`[data-micro-type="${a}"]`))==null?void 0:e.innerHTML),this.serverHTML||(this.serverHTML="<div></div>")},mounted(){this.$nextTick(()=>{this.createComponent()})},beforeDestroy(){var e,t;this.log("beforeDestroy"),(t=(e=this.component)==null?void 0:e.event)==null||t.clearEvents(),this.component=null},render(){this.log("render"),this.component&&(this.log("update props",this.$attrs),this.component.updateProps(this.$attrs));const e=this.$attrs.theme?`micro-${this.$attrs.theme}`:"";return s.h("div",{innerHTML:p,key:`${this.microId}_${this.instanceId}`,class:{micro:!0,[e]:!0},"data-micro-type":a,"data-micro-instance-id":this.instanceId})}});i.Button=g,i.Footer=$,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
