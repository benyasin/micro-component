(function(s,n){typeof exports=="object"&&typeof module<"u"?n(exports):typeof define=="function"&&define.amd?define(["exports"],n):n((s=typeof globalThis<"u"?globalThis:s||self).MicroComponentsVue2={})})(this,function(s){"use strict";const n=!!(localStorage!=null&&localStorage.getItem("MICRO_COMPONENT:DEBUG")),a="Footer";let m="";const d={inheritAttrs:!1,data(){return{component:null,microId:this.$attrs.microId||Math.floor(Date.now()*Math.random()).toString().substr(4)}},methods:{log(e,...t){(this.$attrs.logger||n)&&console.log(`[MicroComponent] ${a}: ${e}`,t.map(o=>typeof o=="object"?JSON.stringify(o,null,2):o))},async createComponent(){var o,i;this.log("create component");const e=await async function(){return window.MicroRuntime?window.MicroRuntime:new Promise(r=>{window.addEventListener("MicroRuntime:ready",()=>{r(window.MicroRuntime)})})}(),t=await e.createComponent({microId:this.microId,type:a,props:this.$attrs,el:this.$el});t&&((o=t.event)==null||o.clearEvents(),(i=t.event)==null||i.on("event",(r,...c)=>{this.log("event emit",r,...c),this.$listeners[r]&&this.$listeners[r](...c)}),t==null||t.updateProps(this.$attrs)),this.component=t,this.log("create component complete")}},created(){var e;this.serverHTML="",this.$attrs.serverLocale?this.serverHTML=m=this.$attrs.serverLocale:this.serverHTML=m||(m=(e=document.querySelector(`[data-micro-type="${a}"]`))==null?void 0:e.innerHTML),this.serverHTML||(this.serverHTML="<div></div>")},mounted(){this.$nextTick(()=>{this.createComponent()})},beforeDestroy(){var e,t;this.log("beforeDestroy"),(t=(e=this.component)==null?void 0:e.event)==null||t.clearEvents(),this.component=null},render:function(e){var o;this.log("render"),this.component&&(this.log("update props",this.$attrs),(o=this.component)==null||o.updateProps(this.$attrs));const t=this.$attrs.theme?`micro-${this.$attrs.theme}`:"";return e("div",{key:this.microId,class:{micro:!0,[t]:!0},attrs:{"data-micro-type":a},domProps:{innerHTML:this.serverHTML}})}},p=!!(localStorage!=null&&localStorage.getItem("MICRO_COMPONENT:DEBUG")),h="Button";let l="";const u={inheritAttrs:!1,data(){return{component:null,microId:this.$attrs.microId||Math.floor(Date.now()*Math.random()).toString().substr(4)}},methods:{log(e,...t){(this.$attrs.logger||p)&&console.log(`[MicroComponent] ${h}: ${e}`,t.map(o=>typeof o=="object"?JSON.stringify(o,null,2):o))},async createComponent(){var o,i;this.log("create component");const e=await async function(){return window.MicroRuntime?window.MicroRuntime:new Promise(r=>{window.addEventListener("MicroRuntime:ready",()=>{r(window.MicroRuntime)})})}(),t=await e.createComponent({microId:this.microId,type:h,props:this.$attrs,el:this.$el});t&&((o=t.event)==null||o.clearEvents(),(i=t.event)==null||i.on("event",(r,...c)=>{this.log("event emit",r,...c),this.$listeners[r]&&this.$listeners[r](...c)}),t==null||t.updateProps(this.$attrs)),this.component=t,this.log("create component complete")}},created(){var e;this.serverHTML="",this.$attrs.serverLocale?this.serverHTML=l=this.$attrs.serverLocale:this.serverHTML=l||(l=(e=document.querySelector(`[data-micro-type="${h}"]`))==null?void 0:e.innerHTML),this.serverHTML||(this.serverHTML="<div></div>")},mounted(){this.$nextTick(()=>{this.createComponent()})},beforeDestroy(){var e,t;this.log("beforeDestroy"),(t=(e=this.component)==null?void 0:e.event)==null||t.clearEvents(),this.component=null},render:function(e){var o;this.log("render"),this.component&&(this.log("update props",this.$attrs),(o=this.component)==null||o.updateProps(this.$attrs));const t=this.$attrs.theme?`micro-${this.$attrs.theme}`:"";return e("div",{key:this.microId,class:{micro:!0,[t]:!0},attrs:{"data-micro-type":h},domProps:{innerHTML:this.serverHTML}})}};s.Button=u,s.Footer=d,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
