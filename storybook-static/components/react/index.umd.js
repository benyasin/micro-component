(function(L,w){typeof exports=="object"&&typeof module<"u"?w(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],w):w((L=typeof globalThis<"u"?globalThis:L||self).MicroComponentsReact={},L.React)})(this,function(L,w){"use strict";var fe,re={exports:{}},q={},pe,K={};/**
   * @license React
   * react-jsx-runtime.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */process.env.NODE_ENV==="production"?re.exports=function(){if(fe)return q;fe=1;var C=w,$=Symbol.for("react.element"),T=Symbol.for("react.fragment"),F=Object.prototype.hasOwnProperty,U=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W={key:!0,ref:!0,__self:!0,__source:!0};function b(v,R,O){var S,P={},j=null,x=null;for(S in O!==void 0&&(j=""+O),R.key!==void 0&&(j=""+R.key),R.ref!==void 0&&(x=R.ref),R)F.call(R,S)&&!W.hasOwnProperty(S)&&(P[S]=R[S]);if(v&&v.defaultProps)for(S in R=v.defaultProps)P[S]===void 0&&(P[S]=R[S]);return{$$typeof:$,type:v,key:j,ref:x,props:P,_owner:U.current}}return q.Fragment=T,q.jsx=b,q.jsxs=b,q}():re.exports=(pe||(pe=1,process.env.NODE_ENV!=="production"&&function(){var C,$=w,T=Symbol.for("react.element"),F=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),J=Symbol.iterator,M=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function h(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),l=1;l<t;l++)r[l-1]=arguments[l];(function(u,c,o){var a=M.ReactDebugCurrentFrame.getStackAddendum();a!==""&&(c+="%s",o=o.concat([a]));var f=o.map(function(p){return String(p)});f.unshift("Warning: "+c),Function.prototype.apply.call(console[u],console,f)})("error",e,r)}function d(e){return e.displayName||"Context"}function m(e){if(e==null)return null;if(typeof e.tag=="number"&&h("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case F:return"Portal";case b:return"Profiler";case W:return"StrictMode";case S:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R:return d(e)+".Consumer";case v:return d(e._context)+".Provider";case O:return function(c,o,a){var f=c.displayName;if(f)return f;var p=o.displayName||o.name||"";return p!==""?a+"("+p+")":a}(e,e.render,"ForwardRef");case j:var t=e.displayName||null;return t!==null?t:m(e.type)||"Memo";case x:var r=e,l=r._payload,u=r._init;try{return m(u(l))}catch{return null}}return null}C=Symbol.for("react.module.reference");var _,E,I,N,A,z,ve,B=Object.assign,X=0;function ge(){}ge.__reactDisabledLog=!0;var oe,ae=M.ReactCurrentDispatcher;function G(e,t,r){if(oe===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);oe=l&&l[1]||""}return`
`+oe+e}var Q,ce=!1,Me=typeof WeakMap=="function"?WeakMap:Map;function be(e,t){if(!e||ce)return"";var r,l=Q.get(e);if(l!==void 0)return l;ce=!0;var u,c=Error.prepareStackTrace;Error.prepareStackTrace=void 0,u=ae.current,ae.current=null,function(){if(X===0){_=console.log,E=console.info,I=console.warn,N=console.error,A=console.group,z=console.groupCollapsed,ve=console.groupEnd;var i={configurable:!0,enumerable:!0,value:ge,writable:!0};Object.defineProperties(console,{info:i,log:i,warn:i,error:i,group:i,groupCollapsed:i,groupEnd:i})}X++}();try{if(t){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(i){r=i}Reflect.construct(e,[],o)}else{try{o.call()}catch(i){r=i}e.call(o.prototype)}}else{try{throw Error()}catch(i){r=i}e()}}catch(i){if(i&&r&&typeof i.stack=="string"){for(var a=i.stack.split(`
`),f=r.stack.split(`
`),p=a.length-1,s=f.length-1;p>=1&&s>=0&&a[p]!==f[s];)s--;for(;p>=1&&s>=0;p--,s--)if(a[p]!==f[s]){if(p!==1||s!==1)do if(p--,--s<0||a[p]!==f[s]){var n=`
`+a[p].replace(" at new "," at ");return e.displayName&&n.includes("<anonymous>")&&(n=n.replace("<anonymous>",e.displayName)),typeof e=="function"&&Q.set(e,n),n}while(p>=1&&s>=0);break}}}finally{ce=!1,ae.current=u,function(){if(--X===0){var i={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:B({},i,{value:_}),info:B({},i,{value:E}),warn:B({},i,{value:I}),error:B({},i,{value:N}),group:B({},i,{value:A}),groupCollapsed:B({},i,{value:z}),groupEnd:B({},i,{value:ve})})}X<0&&h("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=c}var g=e?e.displayName||e.name:"",k=g?G(g):"";return typeof e=="function"&&Q.set(e,k),k}function Z(e,t,r){if(e==null)return"";if(typeof e=="function")return be(e,!(!(l=e.prototype)||!l.isReactComponent));var l;if(typeof e=="string")return G(e);switch(e){case S:return G("Suspense");case P:return G("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case O:return be(e.render,!1);case j:return Z(e.type,t,r);case x:var u=e,c=u._payload,o=u._init;try{return Z(o(c),t,r)}catch{}}return""}Q=new Me;var V=Object.prototype.hasOwnProperty,he={},_e=M.ReactDebugCurrentFrame;function ee(e){if(e){var t=e._owner,r=Z(e.type,e._source,t?t.type:null);_e.setExtraStackFrame(r)}else _e.setExtraStackFrame(null)}var Le=Array.isArray;function ie(e){return Le(e)}function we(e){return""+e}function ke(e){if(function(t){try{return we(t),!1}catch{return!0}}(e))return h("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(t){return typeof Symbol=="function"&&Symbol.toStringTag&&t[Symbol.toStringTag]||t.constructor.name||"Object"}(e)),we(e)}var Se,Re,Oe=M.ReactCurrentOwner,Ue={key:!0,ref:!0,__self:!0,__source:!0};function We(e,t,r,l,u){var c,o={},a=null,f=null;for(c in r!==void 0&&(ke(r),a=""+r),function(n){if(V.call(n,"key")){var g=Object.getOwnPropertyDescriptor(n,"key").get;if(g&&g.isReactWarning)return!1}return n.key!==void 0}(t)&&(ke(t.key),a=""+t.key),function(n){if(V.call(n,"ref")){var g=Object.getOwnPropertyDescriptor(n,"ref").get;if(g&&g.isReactWarning)return!1}return n.ref!==void 0}(t)&&(f=t.ref,function(n){typeof n.ref=="string"&&Oe.current}(t)),t)V.call(t,c)&&!Ue.hasOwnProperty(c)&&(o[c]=t[c]);if(e&&e.defaultProps){var p=e.defaultProps;for(c in p)o[c]===void 0&&(o[c]=p[c])}if(a||f){var s=typeof e=="function"?e.displayName||e.name||"Unknown":e;a&&function(n,g){var k=function(){Se||(Se=!0,h("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};k.isReactWarning=!0,Object.defineProperty(n,"key",{get:k,configurable:!0})}(o,s),f&&function(n,g){var k=function(){Re||(Re=!0,h("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};k.isReactWarning=!0,Object.defineProperty(n,"ref",{get:k,configurable:!0})}(o,s)}return function(n,g,k,i,y,te,H){var D={$$typeof:T,type:n,key:g,ref:k,props:H,_owner:te,_store:{}};return Object.defineProperty(D._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(D,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(D,"_source",{configurable:!1,enumerable:!1,writable:!1,value:y}),Object.freeze&&(Object.freeze(D.props),Object.freeze(D)),D}(e,a,f,u,l,Oe.current,o)}var ue,se=M.ReactCurrentOwner,je=M.ReactDebugCurrentFrame;function Y(e){if(e){var t=e._owner,r=Z(e.type,e._source,t?t.type:null);je.setExtraStackFrame(r)}else je.setExtraStackFrame(null)}function le(e){return typeof e=="object"&&e!==null&&e.$$typeof===T}function Ee(){if(se.current){var e=m(se.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}ue=!1;var $e={};function Te(e,t){if(e._store&&!e._store.validated&&e.key==null){e._store.validated=!0;var r=function(u){var c=Ee();if(!c){var o=typeof u=="string"?u:u.displayName||u.name;o&&(c=`

Check the top-level render call using <`+o+">.")}return c}(t);if(!$e[r]){$e[r]=!0;var l="";e&&e._owner&&e._owner!==se.current&&(l=" It was passed a child from "+m(e._owner.type)+"."),Y(e),h('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,l),Y(null)}}}function Pe(e,t){if(typeof e=="object"){if(ie(e))for(var r=0;r<e.length;r++){var l=e[r];le(l)&&Te(l,t)}else if(le(e))e._store&&(e._store.validated=!0);else if(e){var u=function(a){if(a===null||typeof a!="object")return null;var f=J&&a[J]||a["@@iterator"];return typeof f=="function"?f:null}(e);if(typeof u=="function"&&u!==e.entries)for(var c,o=u.call(e);!(c=o.next()).done;)le(c.value)&&Te(c.value,t)}}}function Ae(e){var t,r=e.type;if(r!=null&&typeof r!="string"){if(typeof r=="function")t=r.propTypes;else{if(typeof r!="object"||r.$$typeof!==O&&r.$$typeof!==j)return;t=r.propTypes}if(t){var l=m(r);(function(u,c,o,a,f){var p=Function.call.bind(V);for(var s in u)if(p(u,s)){var n=void 0;try{if(typeof u[s]!="function"){var g=Error((a||"React class")+": "+o+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof u[s]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw g.name="Invariant Violation",g}n=u[s](c,s,a,o,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(k){n=k}!n||n instanceof Error||(ee(f),h("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",o,s,typeof n),ee(null)),n instanceof Error&&!(n.message in he)&&(he[n.message]=!0,ee(f),h("Failed %s type: %s",o,n.message),ee(null))}})(t,e.props,"prop",l,e)}else r.PropTypes===void 0||ue||(ue=!0,h("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",m(r)||"Unknown"));typeof r.getDefaultProps!="function"||r.getDefaultProps.isReactClassApproved||h("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var xe={};function Ce(e,t,r,l,u,c){var o=function(y){return typeof y=="string"||typeof y=="function"||y===U||y===b||y===W||y===S||y===P||y===ne||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===j||y.$$typeof===v||y.$$typeof===R||y.$$typeof===O||y.$$typeof===C||y.getModuleId!==void 0)}(e);if(!o){var a,f="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(f+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),f+=Ee(),e===null?a="null":ie(e)?a="array":e!==void 0&&e.$$typeof===T?(a="<"+(m(e.type)||"Unknown")+" />",f=" Did you accidentally export a JSX literal instead of a component?"):a=typeof e,h("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",a,f)}var p=We(e,t,r,u,c);if(p==null)return p;if(o){var s=t.children;if(s!==void 0)if(l)if(ie(s)){for(var n=0;n<s.length;n++)Pe(s[n],e);Object.freeze&&Object.freeze(s)}else h("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Pe(s,e)}if(V.call(t,"key")){var g=m(e),k=Object.keys(t).filter(function(y){return y!=="key"}),i=k.length>0?"{key: someKey, "+k.join(": ..., ")+": ...}":"{key: someKey}";xe[g+i]||(h(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,i,g,k.length>0?"{"+k.join(": ..., ")+": ...}":"{}",g),xe[g+i]=!0)}return e===U?function(y){for(var te=Object.keys(y.props),H=0;H<te.length;H++){var D=te[H];if(D!=="children"&&D!=="key"){Y(y),h("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",D),Y(null);break}}y.ref!==null&&(Y(y),h("Invalid attribute `ref` supplied to `React.Fragment`."),Y(null))}(p):Ae(p),p}var Be=function(e,t,r){return Ce(e,t,r,!1)},ze=function(e,t,r){return Ce(e,t,r,!0)};K.Fragment=U,K.jsx=Be,K.jsxs=ze}()),K);var Ie=re.exports;const ye=typeof window<"u",Ne=ye&&!!(localStorage!=null&&localStorage.getItem("MICRO_COMPONENT:DEBUG"));function de(C="id"){const $=Date.now(),T=Math.random().toString(36).substr(2,9);return`${C}_${$}_${Math.floor(1e4*Math.random())}_${T}`}function me({elementId:C,type:$}){let T;return w.forwardRef(function(F={},U){var h;const W=w.useRef(null),b=w.useRef(F),v=w.useRef(null),R=w.useRef(!1),O=w.useRef(""),S=w.useRef(F.microId||de(`${$}_${C}`)),P=w.useRef(F.instanceId||function(d,m){return de(`${d}_${m}`)}($,C)),j=(d,...m)=>{var _;((_=b.current)!=null&&_.logger||Ne)&&console.log(`[MicroComponent] ${$}: ${d}`,m.map(E=>typeof E=="object"?JSON.stringify(E,null,2):E))},x=(d,...m)=>{j("event emit",d,...m);const _=b.current;_&&typeof _[d]=="function"?_[d](...m):j("event handler not found",d,_)};async function ne(){var m,_,E,I,N,A;j("create component",b.current);const d=await async function(){return window.MicroRuntime?window.MicroRuntime:new Promise(z=>{window.addEventListener("MicroRuntime:ready",()=>{z(window.MicroRuntime)})})}();v.current=await d.createComponent({elementId:C,type:$,props:b.current,microId:S.current,instanceId:P.current,el:W.current}),v.current&&((_=(m=v.current)==null?void 0:m.event)==null||_.clearEvents(),(I=(E=v.current)==null?void 0:E.on)==null||I.call(E,"event",x),(A=(N=v.current)==null?void 0:N.on)==null||A.call(N,"click",(...z)=>{x("click",...z)})),j("create component complete")}function J(){var d;v.current&&(j("update props",b.current),(d=v.current)==null||d.updateProps(b.current))}w.useEffect(()=>{typeof window>"u"||v.current||R.current||(R.current=!0,ne().then(()=>{J()}))},[]),w.useEffect(()=>()=>{var d;v.current&&((d=v.current.event)==null||d.clearEvents())},[]),w.useEffect(()=>{var d,m,_,E,I,N;b.current=F,J(),v.current&&((m=(d=v.current)==null?void 0:d.event)==null||m.clearEvents(),(E=(_=v.current)==null?void 0:_.on)==null||E.call(_,"event",x),(N=(I=v.current)==null?void 0:I.on)==null||N.call(I,"click",(...A)=>{x("click",...A)}))},[F]),O.current||(b.current.serverLocale?O.current=T=b.current.serverLocale:T?O.current=T:ye&&(O.current=T=((h=document.querySelector(`[data-micro-type="${$}"]`))==null?void 0:h.innerHTML)||""),O.current||(O.current="<div></div>"));const M=b.current.theme?`micro-${b.current.theme}`:"";return Ie.jsx("div",{ref:W,className:`micro ${M} ${b.current.className||""}`.trim(),dangerouslySetInnerHTML:{__html:O.current},"data-micro-type":$,"data-micro-instance-id":P.current},function(d,m){return`${d}_${m}`}(S.current,P.current))})}const De=me({elementId:"MicroFooter",type:"Footer"}),Fe=me({elementId:"MicroButton",type:"Button"});L.Button=Fe,L.Footer=De,Object.defineProperty(L,Symbol.toStringTag,{value:"Module"})});
